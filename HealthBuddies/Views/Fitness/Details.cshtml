<!--@{
    ViewBag.Title = "User Details";
}

<h2>User Details</h2>

@if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
{
    <p>Error: @ViewBag.ErrorMessage</p>
}
else
{
    <p>User Email: @ViewBag.UserEmail</p>
    <p>User Height: @ViewBag.UserHeight</p>
    <p>User Height: @ViewBag.UID</p>
}-->
@{
    ViewBag.Title = "Fitness and Exercise";
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Itim" rel="stylesheet">
    <style>
        body {
            font-family: 'Itim', cursive;
            font-size: large
        }



        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            width: 80%; /* Adjust the width as needed */
            max-width: 1000px; /* Set a maximum width if desired */
            background-color: #fff;
            max-height: 1000px;
            padding: 20px;
            height: 70%;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .modal-content {
            /* Your existing modal content styles */
        }

        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
        }
    </style>

</head>

<body class="bg-gray-100">

    <div class="bg-blue-400 p-8 rounded-xl shadow-lg mx-auto">
        <div class="rounded-lg p-6">

            <div class="flex justify-between items-center mb-6">
                <h1 class="font-bold text-5xl text-white">Fitness and Exercise</h1>
            </div>

            <div class="flex bg-green-300 rounded-lg p-4 mb-4">
                <img src="~/Images/shoes.png" alt="Steps" class="w-16 h-16 rounded-full border-4 border-white m-2" />
                <div class="ml-4">
                    <h2 class="font-bold text-2xl">My Steps: </h2>
                    <p>Total Today: @ViewBag.SumSteps steps</p>
                    <p>Daily Goal: @ViewBag.DailySteps steps</p>
                    <p>Left to Do: @ViewBag.Left steps</p>
                </div>
                <button onclick="window.location.href='@Url.Action("Graphs", "Fitness")'" class="ml-auto bg-blue-500 text-white rounded px-4 py-2">View Progress</button>
            </div>

            <div class="flex bg-red-400 p-4 items-center justify-between mb-6">
                <div>
                    <h2 class="font-bold text-2xl">Today, you've exercised for:</h2>
                    <p>@ViewBag.MinutesMoved/@ViewBag.Goal minutes</p>
                    <p>Keep it up!</p>
                </div>
                <img src="~/Images/koala.png" alt="Exercise" class="w-16 h-16" />
                <button onclick="window.location.href='@Url.Action("Graph", "Fitness")'" class="bg-blue-500 text-white rounded px-4 py-2">View Progress</button>
            </div>

            <label class="block text-2x1 font-bold mb-2">Start an Exercise</label>
            <div class="flex justify-between mb-4">
                <div class="w-1/3 p-2">
                    <button onclick="openBeginnerModal()" class="bg-pink-400 rounded-lg p-4 text-center w-full flex flex-col items-center">
                        <img src="~/Images/bear1.png" alt="Beginner" class="w-20 h-20 mb-2" />
                        <p>Beginner</p>
                    </button>
                </div>
                <div class="w-1/3 p-2">
                    <button onclick="openIntermediateModal()" class="bg-purple-400 rounded-lg p-4 text-center w-full flex flex-col items-center">
                        <img src="~/Images/bear2.png" alt="Intermediate" class="w-20 h-20 mb-2" />
                        <p>Intermediate</p>
                    </button>
                </div>
                <div class="w-1/3 p-2">
                    <button onclick="openAdvancedModal()" class="bg-red-400 rounded-lg p-4 text-center w-full flex flex-col items-center">
                        <img src="~/Images/bear3.png" alt="Advanced" class="w-20 h-20 mb-2" />
                        <p>Advanced</p>
                    </button>
                </div>
            </div>

            <div id="beginnerModal" class="modal">
                <div class="modal-content bg-blue-400 rounded-lg shadow p-8">
                    <!-- Main header with orange background and bear icon -->
                    <div class="flex items-center justify-between bg-pink-400 rounded-t-lg h-16">
                        <h1 class="text-white text-2xl font-bold p-4">Beginner</h1>
                        <span class="close" onclick="closeBeginnerModal()">&times;</span>
                    </div>

                    <!-- Description text -->
                    <p class="p-4 text-gray-700">
                        These exercises are kept simple, just for you! Click on a video to start.
                    </p>

                    <!-- Sub cards container -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
                        <!-- Sub card 1 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with purple background -->
                            <div class="bg-purple-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Let's Dance!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-beginnerModal1"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Move! | Dance Song for Kids | Super Simple Songs</p>
                            </div>
                        </div>

                        <!-- Sub card 2 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with green background -->
                            <div class="bg-green-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Jump Around!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-beginnerModal2"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Jumping Exercises for Energy and Fun</p>
                            </div>
                        </div>

                        <!-- Sub card 3 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with blue background -->
                            <div class="bg-blue-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Stretch it Out!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-beginnerModal3"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Full Body Stretch Routine for Flexibility</p>
                            </div>
                        </div>

                        <div class="flex items-center mb-4">
                            <label class="text-lg mr-2">Enter Move Minutes:</label>
                            <input type="text" id="dataInput" class="p-2 border rounded" placeholder="Enter minutes...">
                            <button onclick="saveData()" class="bg-green-500 text-white rounded px-4 py-2 mr-2">Save</button>
                        </div>

                        <!-- Repeat the structure for additional sub cards as needed -->

                    </div>
                </div>
            </div>
            <div id="intermediateModal" class="modal">
                <div class="modal-content bg-blue-400 rounded-lg shadow p-8">
                    <!-- Main header with orange background and bear icon -->
                    <div class="flex items-center justify-between bg-purple-400 rounded-t-lg h-16">
                        <h1 class="text-white text-2xl font-bold p-4">Intermediate</h1>
                        <span class="close" onclick="closeIntermediateModal()">&times;</span>
                    </div>

                    <!-- Description text -->
                    <p class="p-4 text-gray-700">
                        These exercises are kept simple, just for you! Click on a video to start.
                    </p>

                    <!-- Sub cards container -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
                        <!-- Sub card 1 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with purple background -->
                            <div class="bg-purple-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Let's Dance!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-intermediateModal1"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Move! | Dance Song for Kids | Super Simple Songs</p>
                            </div>
                        </div>

                        <!-- Sub card 2 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with green background -->
                            <div class="bg-green-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Jump Around!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-intermediateModal2"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Jumping Exercises for Energy and Fun</p>
                            </div>
                        </div>

                        <!-- Sub card 3 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with blue background -->
                            <div class="bg-blue-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Stretch it Out!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-intermediateModal3"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Full Body Stretch Routine for Flexibility</p>
                            </div>
                        </div>

                        <!-- Repeat the structure for additional sub cards as needed -->

                    </div>
                </div>
            </div>
            <div id="advancedModal" class="modal">
                <div class="modal-content bg-blue-400 rounded-lg shadow p-8">
                    <!-- Main header with orange background and bear icon -->
                    <div class="flex items-center justify-between bg-red-400 rounded-t-lg h-16">
                        <h1 class="text-white text-2xl font-bold p-4">Advanced</h1>
                        <span class="close" onclick="closeAdvancedModal()">&times;</span>
                    </div>

                    <!-- Description text -->
                    <p class="p-4 text-gray-700">
                        These exercises are kept simple, just for you! Click on a video to start.
                    </p>

                    <!-- Sub cards container -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
                        <!-- Sub card 1 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with purple background -->
                            <div class="bg-purple-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Let's Dance!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-advancedModal1"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Move! | Dance Song for Kids | Super Simple Songs</p>
                            </div>
                        </div>

                        <!-- Sub card 2 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with green background -->
                            <div class="bg-green-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Jump Around!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-advancedModal2"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Jumping Exercises for Energy and Fun</p>
                            </div>
                        </div>

                        <!-- Sub card 3 -->
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <!-- Sub card header with blue background -->
                            <div class="bg-blue-500 p-2 flex items-center">
                                <h2 class="text-white text-sm ml-2">Stretch it Out!</h2>
                            </div>
                            <div class="relative">
                                <div id="youtube-player-advancedModal3"></div> <!-- Unique ID for each video player -->
                            </div>
                            <!-- Sub card body -->
                            <div class="p-4">
                                <p class="text-gray-800 text-lg">Full Body Stretch Routine for Flexibility</p>
                            </div>
                        </div>

                        <!-- Repeat the structure for additional sub cards as needed -->

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ... Your existing HTML code ... -->

    <script>
        // Include the YouTube IFrame Player API
        var tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        document.addEventListener("DOMContentLoaded", function () {
            // Your existing modal-related JavaScript code here
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Get all buttons that open the modals
            var beginnerButtons = document.querySelectorAll('.beginner-button');
            var intermediateButtons = document.querySelectorAll('.intermediate-button');
            var advancedButtons = document.querySelectorAll('.advanced-button');

            // When the user clicks on <span> (x), close the modals
            var span = document.getElementsByClassName("close")[0];

            span.onclick = function () {
                closeModals();
            }

            // When the user clicks anywhere outside of the modals, close them
            window.onclick = function (event) {
                var beginnerModal = document.getElementById("beginnerModal");
                var intermediateModal = document.getElementById("intermediateModal");
                var advancedModal = document.getElementById("advancedModal");

                if (event.target === beginnerModal) {
                    closeBeginnerModal();
                } else if (event.target === intermediateModal) {
                    closeIntermediateModal();
                } else if (event.target === advancedModal) {
                    closeAdvancedModal();
                }
            }

            // Add click event listeners to all buttons
            beginnerButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    openBeginnerModal();
                });
            });

            intermediateButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    openIntermediateModal();
                });
            });

            advancedButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    openAdvancedModal();
                });
            });
        });

        // Replace 'VIDEO_ID' with the actual YouTube video IDs
        var beginnerVideoIds = ['VsgpUHUYuJI', 'udgOXaw4jbI', '-y5yuLuw7KQ'];
        var intermediateVideoIds = ['KnF12nKwPQI', 'L_A_HjHZxfI', 'N1ZnrTXJvh0'];
        var advancedVideoIds = ['GbjtG26ZSAo', 'WpIFlh5whcs', 'W-1bDW1ujsE'];

        function openBeginnerModal() {
            openModal("beginnerModal", beginnerVideoIds);
        }

        function openIntermediateModal() {
            openModal("intermediateModal", intermediateVideoIds);
        }

        function openAdvancedModal() {
            openModal("advancedModal", advancedVideoIds);
        }

        function openModal(modalId, videoIds) {
            var modal = document.getElementById(modalId);
            modal.style.display = "block";

            // Initialize YouTube players
            for (var i = 0; i < videoIds.length; i++) {
                var playerContainer = document.getElementById('youtube-player-' + modalId + (i + 1));

                if (!playerContainer) {
                    console.error('Player container not found:', 'youtube-player-' + modalId + (i + 1));
                    continue;  // Skip to the next iteration if the container is not found
                }

                var player = new YT.Player(playerContainer, {
                    height: '300',
                    width: '100%',
                    videoId: videoIds[i],
                    playerVars: {
                        'autoplay': 0,
                        'controls': 1,
                        'rel': 0,
                        'showinfo': 0
                    }
                });
            }
        }

        function closeModals() {
            closeBeginnerModal();
            closeIntermediateModal();
            closeAdvancedModal();
        }

        function closeBeginnerModal() {
            var modal = document.getElementById("beginnerModal");
            modal.style.display = "none";
        }

        function closeIntermediateModal() {
            var modal = document.getElementById("intermediateModal");
            modal.style.display = "none";
        }

        function closeAdvancedModal() {
            var modal = document.getElementById("advancedModal");
            modal.style.display = "none";
        }
    </script>
    <script>
        function saveData() {
            var dataInput = document.getElementById('dataInput').value;

            // Perform any necessary validation on dataInput

            // Send data to the server using AJAX
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/Fitness/SaveData'); // Adjust the URL to match your controller action
            xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');

            xhr.onload = function () {
                if (xhr.status === 200) {
                    // Handle success, if needed
                    console.log('Data saved successfully!');
                } else {
                    // Handle errors, if needed
                    console.error('Failed to save data:', xhr.statusText);
                }
                console.log('Save button clicked!');
            };

            xhr.send(JSON.stringify({ dataInput: dataInput }));
        }
        document.addEventListener("DOMContentLoaded", function () {

            // Modify the saveData function to send data to the server
            
        });
    </script>
</body>

</html>
